<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>🎤 音声認識アプリ V2.2</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <h1>音声認識アプリ</h1>
        
        <div class="controls">
            <button id="startButton" class="mic-button">
                🎤 録音開始
            </button>
            <button id="stopButton" class="mic-button" disabled>
                ⏹️ 録音停止
            </button>
        </div>
        
        <div class="status">
            <p id="statusText">録音を開始してください</p>
        </div>
        
        
        <div class="engine-selection">
            <div class="engine-options">
                <label class="engine-option">
                    <input type="radio" name="recognitionEngine" value="local" checked>
                    <span class="option-content">
                        <span class="option-icon">💻</span>
                        <span class="option-text">
                            <strong>ローカル音声認識</strong>
                            <small>ブラウザの音声認識（リアルタイム）</small>
                        </span>
                    </span>
                </label>
                <label class="engine-option" id="googleEngineOption" style="display: none;">
                    <input type="radio" name="recognitionEngine" value="google">
                    <span class="option-content">
                        <span class="option-icon">🌐</span>
                        <span class="option-text">
                            <strong>Google音声認識</strong>
                            <small>クラウドAPI（リアルタイム）</small>
                        </span>
                    </span>
                </label>
            </div>
        </div>
        
        <div class="translation-selection">
            <h3>翻訳設定:</h3>
            <div class="translation-controls">
                <label class="translation-toggle">
                    <input type="checkbox" id="enableTranslation" checked>
                    <span>🌍 自動翻訳を有効にする</span>
                </label>
                <label class="translation-toggle">
                    <input type="checkbox" id="enableSpeech" checked>
                    <span>🔊 翻訳結果を読み上げる</span>
                </label>
                <div class="language-selection">
                    <label for="targetLanguage">翻訳先言語:</label>
                    <select id="targetLanguage">
                        <option value="en">🇺🇸 英語 (English)</option>
                        <option value="zh">🇨🇳 中国語 (中文)</option>
                        <option value="de">🇩🇪 ドイツ語 (Deutsch)</option>
                        <option value="it">🇮🇹 イタリア語 (Italiano)</option>
                    </select>
                </div>
            </div>
        </div>
        
        <div class="transcript-container">
            <div class="transcript-section">
                <h3>🎤 音声認識結果 (日本語):</h3>
                <div id="transcript" class="transcript-area">
                    ここに音声認識の結果が表示されます
                </div>
            </div>
            <div class="translation-section" id="translationSection" style="display: none;">
                <h3 id="translationTitle">🌍 翻訳結果 (英語):</h3>
                <div id="translatedText" class="transcript-area translation-area">
                    翻訳結果がここに表示されます
                </div>
            </div>
        </div>
        
        <div class="history">
            <h3>履歴:</h3>
            <div class="history-tabs">
                <button id="japaneseHistoryTab" class="history-tab active">🎤 日本語履歴</button>
                <button id="translationHistoryTab" class="history-tab" style="display: none;">🌍 翻訳履歴</button>
            </div>
            <div id="japaneseHistoryList" class="history-list"></div>
            <div id="translationHistoryList" class="history-list" style="display: none;"></div>
        </div>
        
        <div class="export-section">
            <h3>エクスポート:</h3>
            <div class="export-controls">
                <div class="export-buttons">
                    <button id="exportCurrentButton" class="export-button" disabled>
                        💾 現在の認識結果をエクスポート
                    </button>
                    <button id="exportHistoryButton" class="export-button" disabled>
                        📥 履歴をすべてエクスポート
                    </button>
                    <button id="clearHistoryButton" class="clear-button" disabled>
                        🗑️ 履歴をクリア
                    </button>
                </div>
            </div>
        </div>
    </div>
    
    <script src="app.js"></script>
</body>
</html>